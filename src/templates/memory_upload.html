{% extends "base.html" %}
{% block content %}
<script src="{{ url_for('static', filename='memoryUpload.js') }}"></script>


<div class="form">
    <h1> Upload a new Memory</h1>
    <br>
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% for category, message in messages %}
            <div class="alert alert-{{ category }}">{{ message }}</div>
        {% endfor %}
    {% endwith %}
    <form action="{{ url_for('memory.upload') }}" enctype="multipart/form-data" method="post">
        <div class="form-element">
            <label for="date">Date of Memory</label>
            <input type="date" name="date" required>
        </div>

        <div class="form-element">
            <label for="description">Description</label>
            <textarea name="description" cols="40" rows="10"></textarea>
        </div>

        <div class="form-element">
            <label>Image</label>
            <input type="file" id="imageUpload" name="image" accept="image/*" style="display: none;">
            <label id="image-label" for="imageUpload">Choose image to upload</label>
        </div>

        <div class="preview-container" id="imagePreview">
            <img id="previewImg" src="" alt="Image Preview">
        </div>

        <button class="button" type="submit">Upload</button>
    </form>
</div>

{% endblock %}